@using STL.POS.Frontend.Web.NewVersion.CustomCode;
@model IEnumerable<string>
@{
    Layout = null;
    CommonEnums.RequestType RequestType = ViewBag.RequestType;
}

<div class="head-image mdl-card ">
    <!-- mdl-shadow--2dp -->
    <div class="mdl-card__title mdl-card--expand">
        @if (RequestType == CommonEnums.RequestType.Emision)
        {
            <h1 class="bnn_ttl">Cotización Completada</h1>
        }
        else if (RequestType == CommonEnums.RequestType.Inclusion || RequestType == CommonEnums.RequestType.Exclusion)
        {
            <h1 class="bnn_ttl">Movimiento enviado</h1>
        }
    </div>
    <!-- <div class="mdl-card__actions p-0 mb-3"></div> -->
    <div class="alert alert-success text-center border-success  alert-dismissible fade show" role="alert">
        @if (RequestType == CommonEnums.RequestType.Emision)
        {
            <h4 class="alert-heading mt-0 mb-0"> Felicitaciones! La Cotización No. <strong>@ViewBag.QuotationNumber</strong> fue completada.</h4>
        }
        else
            if (RequestType == CommonEnums.RequestType.Inclusion || RequestType == CommonEnums.RequestType.Exclusion)
        {
            <h4 class="alert-heading mt-0 mb-0"> Felicitaciones! el caso No. <strong>@ViewBag.QuotationNumber</strong> fue completado.</h4>
        }

        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>
<div class="mdl-cell mdl-cell--12-col mdl-card w-100 ml-0 mdl-shadow--4dp pago_vw">

    <div class="mdl-cell mdl-cell--12-col ">
        <div class="card mdl-shadow--2dp mdl-cell mdl-cell--12-col float-left">
            <div class="card-header bg-info mdl-color-text--white text-center font-weight-bold">
                @if (RequestType == CommonEnums.RequestType.Exclusion)
                {
                    @Html.Raw("El/Los siguiente(s) vehículo(s) seran excluidos:");
                }
                else
                {
                    @Html.Raw("El/Los siguiente(s) vehículo(s) requieren inspección:");
                }
            </div>

            @if (RequestType != CommonEnums.RequestType.Exclusion)
            {
                <ul class="list-group list-group-flush text-danger font-weight-bold">
                    @foreach (var v in Model)
                    {
                        <li class="list-group-item"><i class="material-icons mr-3 float-left">&#xE531;</i>@Html.Raw(v)</li>
                    }
                </ul>
            }
            else
            {
                <div class="table-responsive">
                    <table class="table table-striped table-light text-center" id="tblVehiclesEx">
                        <thead>
                            <tr class="bg-primary mdl-color-text--white">
                                <th scope="col">Marca</th>
                                <th scope="col">Modelo</th>
                                <th scope="col">Año</th>
                                <th scope="col">Placa</th>
                                <th scope="col">Chassis</th>
                                <th scope="col">Color</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var v in Model)
                            {
                                string[] split = v.Split('|');

                                if (split.Count() > 3)
                                {
                                    <tr>
                                        <td>
                                            @Html.Raw(split[0])
                                        </td>
                                        <td>
                                            @Html.Raw(split[1])
                                        </td>
                                        <td>
                                            @Html.Raw(split[2])
                                        </td>
                                        <td>
                                            @Html.Raw(split[3])
                                        </td>
                                        <td>
                                            @Html.Raw(split[4])
                                        </td>
                                        <td>
                                            @Html.Raw(split[5])
                                        </td>
                                    </tr>

                                }
                            }
                        </tbody>
                    </table>
                </div>
            }
        </div>
        @if (RequestType != CommonEnums.RequestType.Exclusion)
        {
            <div class="card mdl-shadow--2dp mdl-cell mdl-cell--12-col float-left">
                <ul class="insp list-group list-group-flush  alert alert-primary border-primary">
                    <li class="list-group-item"><span class="badge badge-primary badge-pill mr-3">1</span>Le  estaremos contactando en el transcurso de los próximos 30 minutos para  coordinar la inspección.</li>
                    <li class="list-group-item"><span class="badge badge-primary badge-pill mr-3">2</span>Le  hemos enviado a su email la copia de la solicitud y cotización de su póliza  sujeta a inspección y aprobación de nuestro departamento de suscripción.</li>
                    <li class="list-group-item"><span class="badge badge-primary badge-pill mr-3">3</span>Una  vez el vehículo sea inspeccionado, podra efectuar el pago de su prima parcial o  total.</li>
                    <li class="list-group-item"><span class="badge badge-primary badge-pill mr-3">4</span>Si  desea asistencia o alguna pregunta, por favor llamar a los números&nbsp;<strong>809-565-5591</strong>,&nbsp;<strong>1-809-200-5591</strong>&nbsp;o  enviar correo eléctronico a&nbsp;<strong><a href="mailto:servicios@atlantica.do">servicios@atlantica.do</a></strong></li>
                    <li class="list-group-item"><span class="badge badge-primary badge-pill mr-3">5</span>Esta  cotización y su precio final esta sujeto a un proceso de suscripción.</li>
                    <li class="list-group-item" style="display:@(ViewBag.IsFinanced ? "block" : "none")">
                        <span class="badge badge-primary badge-pill mr-3">6</span>Para proceder con el financiamiento por favor descargar el contrato y enviar con la documentacion de suscripción debidamente firmado.
                        <br />
                        <br />
                        <br />
                        <div class="float-left">
                            <a id="lnkViewAmortizationTable" href="#" onclick="ViewFinancedContract()" class="btn btn-outline-info float-right mr-3">
                                <i class="fa fa-eye fa-2x fa-fw" aria-hidden="true"></i>
                                <strong class="x-hide">Ver Contrato de Financiamiento</strong>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        }
    </div>
</div>
@Html.Hidden("hdnQuotId", (object)ViewBag.QuotationId),
@Html.Hidden("isFinancedPolicy", (object)ViewBag.IsFinanced)

