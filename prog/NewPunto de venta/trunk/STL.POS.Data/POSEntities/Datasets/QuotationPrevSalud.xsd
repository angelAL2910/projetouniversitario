<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="QuotationPrevSalud" targetNamespace="http://tempuri.org/QuotationPrevSalud.xsd" xmlns:mstns="http://tempuri.org/QuotationPrevSalud.xsd" xmlns="http://tempuri.org/QuotationPrevSalud.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="POS_SiteConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="POS_SiteConnectionString (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.STL.POS.Data.Properties.Settings.GlobalReference.Default.POS_SiteConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="QuotationSaludDetailTableAdapter" GeneratorDataComponentClassName="QuotationSaludDetailTableAdapter" Name="QuotationSaludDetail" UserDataComponentName="QuotationSaludDetailTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="POS_SiteConnectionString (Settings)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT        q.QuotationNumber, q.StartDate, q.EndDate, q.TotalPrime, q.PaymentWay, p.FirstName + ' ' + p.FirstSurname AS PrincipalPersonName, qs.[Plan], qs.PlanType
FROM            POS.QUOTATION AS q INNER JOIN
                         POS.QUOTATION_SALUD AS qs ON q.Id = qs.Id INNER JOIN
                         POS.PERSONS AS p ON p.QuotationId = q.Id AND p.IsPrincipal = 1
WHERE        (q.Id = @quotationId)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="quotationId" ColumnName="Id" DataSourceName="POS_Site.POS.QUOTATION" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@quotationId" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="Id" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="QuotationNumber" DataSetColumn="QuotationNumber" />
              <Mapping SourceColumn="StartDate" DataSetColumn="StartDate" />
              <Mapping SourceColumn="EndDate" DataSetColumn="EndDate" />
              <Mapping SourceColumn="TotalPrime" DataSetColumn="TotalPrime" />
              <Mapping SourceColumn="PrincipalPersonName" DataSetColumn="PrincipalPersonName" />
              <Mapping SourceColumn="Plan" DataSetColumn="Plan" />
              <Mapping SourceColumn="PlanType" DataSetColumn="PlanType" />
              <Mapping SourceColumn="PaymentWay" DataSetColumn="PaymentWay" />
            </Mappings>
            <Sources />
          </TableAdapter>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="PersonsTableAdapter" GeneratorDataComponentClassName="PersonsTableAdapter" Name="Persons" UserDataComponentName="PersonsTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="POS_SiteConnectionString (Settings)" DbObjectName="POS_Site.POS.PERSONS" DbObjectType="Table" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT p.QuotationId, 
p.IsPrincipal,
                  p.FirstName + ' ' + p.FirstSurname AS FullName,
	p.DateOfBirth,
	p.Sex,
p.Relationship,
p.MaritalStatus,
p.IsSmoker,
(CASE WHEN p.Condition1  IS NOT NULL THEN 1 ELSE 0 END) + (CASE WHEN p.Condition2 IS NOT NULL THEN 1 ELSE 0 END) + (CASE WHEN p.Condition3  IS NOT NULL THEN 1 ELSE 0 END) AS PreexistingCondition,
p.IsExtremeAthlete,
p.Transplant,
p.Complication
FROM POS.PERSONS p 
WHERE p.QuotationId = @quotationId
ORDER BY p.IsPrincipal DESC, FullName</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="quotationId" ColumnName="QuotationId" DataSourceName="POS_Site.POS.PERSONS" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@quotationId" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="QuotationId" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="QuotationId" DataSetColumn="QuotationId" />
              <Mapping SourceColumn="IsPrincipal" DataSetColumn="IsPrincipal" />
              <Mapping SourceColumn="FullName" DataSetColumn="FullName" />
              <Mapping SourceColumn="DateOfBirth" DataSetColumn="DateOfBirth" />
              <Mapping SourceColumn="Sex" DataSetColumn="Sex" />
              <Mapping SourceColumn="Relationship" DataSetColumn="Relationship" />
              <Mapping SourceColumn="MaritalStatus" DataSetColumn="MaritalStatus" />
              <Mapping SourceColumn="IsSmoker" DataSetColumn="IsSmoker" />
              <Mapping SourceColumn="PreexistingCondition" DataSetColumn="PreexistingCondition" />
              <Mapping SourceColumn="IsExtremeAthlete" DataSetColumn="IsExtremeAthlete" />
              <Mapping SourceColumn="Transplant" DataSetColumn="Transplant" />
              <Mapping SourceColumn="Complication" DataSetColumn="Complication" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="QuotationPrevSalud" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="QuotationPrevSalud" msprop:Generator_UserDSName="QuotationPrevSalud">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="QuotationSaludDetail" msprop:Generator_TableClassName="QuotationSaludDetailDataTable" msprop:Generator_TableVarName="tableQuotationSaludDetail" msprop:Generator_TablePropName="QuotationSaludDetail" msprop:Generator_RowDeletingName="QuotationSaludDetailRowDeleting" msprop:Generator_RowChangingName="QuotationSaludDetailRowChanging" msprop:Generator_RowEvHandlerName="QuotationSaludDetailRowChangeEventHandler" msprop:Generator_RowDeletedName="QuotationSaludDetailRowDeleted" msprop:Generator_UserTableName="QuotationSaludDetail" msprop:Generator_RowChangedName="QuotationSaludDetailRowChanged" msprop:Generator_RowEvArgName="QuotationSaludDetailRowChangeEvent" msprop:Generator_RowClassName="QuotationSaludDetailRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="QuotationNumber" msprop:Generator_ColumnVarNameInTable="columnQuotationNumber" msprop:Generator_ColumnPropNameInRow="QuotationNumber" msprop:Generator_ColumnPropNameInTable="QuotationNumberColumn" msprop:Generator_UserColumnName="QuotationNumber" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="20" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="StartDate" msprop:Generator_ColumnVarNameInTable="columnStartDate" msprop:Generator_ColumnPropNameInRow="StartDate" msprop:Generator_ColumnPropNameInTable="StartDateColumn" msprop:Generator_UserColumnName="StartDate" type="xs:dateTime" minOccurs="0" />
              <xs:element name="EndDate" msprop:Generator_ColumnVarNameInTable="columnEndDate" msprop:Generator_ColumnPropNameInRow="EndDate" msprop:Generator_ColumnPropNameInTable="EndDateColumn" msprop:Generator_UserColumnName="EndDate" type="xs:dateTime" minOccurs="0" />
              <xs:element name="TotalPrime" msprop:Generator_ColumnVarNameInTable="columnTotalPrime" msprop:Generator_ColumnPropNameInRow="TotalPrime" msprop:Generator_ColumnPropNameInTable="TotalPrimeColumn" msprop:Generator_UserColumnName="TotalPrime" type="xs:decimal" minOccurs="0" />
              <xs:element name="PrincipalPersonName" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnPrincipalPersonName" msprop:Generator_ColumnPropNameInRow="PrincipalPersonName" msprop:Generator_ColumnPropNameInTable="PrincipalPersonNameColumn" msprop:Generator_UserColumnName="PrincipalPersonName" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="101" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Plan" msprop:Generator_ColumnVarNameInTable="columnPlan" msprop:Generator_ColumnPropNameInRow="Plan" msprop:Generator_ColumnPropNameInTable="PlanColumn" msprop:Generator_UserColumnName="Plan" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="PlanType" msprop:Generator_ColumnVarNameInTable="columnPlanType" msprop:Generator_ColumnPropNameInRow="PlanType" msprop:Generator_ColumnPropNameInTable="PlanTypeColumn" msprop:Generator_UserColumnName="PlanType" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="PaymentWay" msprop:Generator_ColumnVarNameInTable="columnPaymentWay" msprop:Generator_ColumnPropNameInRow="PaymentWay" msprop:Generator_ColumnPropNameInTable="PaymentWayColumn" msprop:Generator_UserColumnName="PaymentWay" type="xs:int" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="Persons" msprop:Generator_TableClassName="PersonsDataTable" msprop:Generator_TableVarName="tablePersons" msprop:Generator_TablePropName="Persons" msprop:Generator_RowDeletingName="PersonsRowDeleting" msprop:Generator_RowChangingName="PersonsRowChanging" msprop:Generator_RowEvHandlerName="PersonsRowChangeEventHandler" msprop:Generator_RowDeletedName="PersonsRowDeleted" msprop:Generator_UserTableName="Persons" msprop:Generator_RowChangedName="PersonsRowChanged" msprop:Generator_RowEvArgName="PersonsRowChangeEvent" msprop:Generator_RowClassName="PersonsRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="QuotationId" msprop:Generator_ColumnVarNameInTable="columnQuotationId" msprop:Generator_ColumnPropNameInRow="QuotationId" msprop:Generator_ColumnPropNameInTable="QuotationIdColumn" msprop:Generator_UserColumnName="QuotationId" type="xs:int" />
              <xs:element name="IsPrincipal" msprop:Generator_ColumnVarNameInTable="columnIsPrincipal" msprop:Generator_ColumnPropNameInRow="IsPrincipal" msprop:Generator_ColumnPropNameInTable="IsPrincipalColumn" msprop:Generator_UserColumnName="IsPrincipal" type="xs:boolean" />
              <xs:element name="FullName" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnFullName" msprop:Generator_ColumnPropNameInRow="FullName" msprop:Generator_ColumnPropNameInTable="FullNameColumn" msprop:Generator_UserColumnName="FullName" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="101" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="DateOfBirth" msprop:Generator_ColumnVarNameInTable="columnDateOfBirth" msprop:Generator_ColumnPropNameInRow="DateOfBirth" msprop:Generator_ColumnPropNameInTable="DateOfBirthColumn" msprop:Generator_UserColumnName="DateOfBirth" type="xs:dateTime" />
              <xs:element name="Sex" msprop:Generator_ColumnVarNameInTable="columnSex" msprop:Generator_ColumnPropNameInRow="Sex" msprop:Generator_ColumnPropNameInTable="SexColumn" msprop:Generator_UserColumnName="Sex" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Relationship" msprop:Generator_ColumnVarNameInTable="columnRelationship" msprop:Generator_ColumnPropNameInRow="Relationship" msprop:Generator_ColumnPropNameInTable="RelationshipColumn" msprop:Generator_UserColumnName="Relationship" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="MaritalStatus" msprop:Generator_ColumnVarNameInTable="columnMaritalStatus" msprop:Generator_ColumnPropNameInRow="MaritalStatus" msprop:Generator_ColumnPropNameInTable="MaritalStatusColumn" msprop:Generator_UserColumnName="MaritalStatus" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="10" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="IsSmoker" msprop:Generator_ColumnVarNameInTable="columnIsSmoker" msprop:Generator_ColumnPropNameInRow="IsSmoker" msprop:Generator_ColumnPropNameInTable="IsSmokerColumn" msprop:Generator_UserColumnName="IsSmoker" type="xs:boolean" />
              <xs:element name="PreexistingCondition" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnPreexistingCondition" msprop:Generator_ColumnPropNameInRow="PreexistingCondition" msprop:Generator_ColumnPropNameInTable="PreexistingConditionColumn" msprop:Generator_UserColumnName="PreexistingCondition" type="xs:int" minOccurs="0" />
              <xs:element name="IsExtremeAthlete" msprop:Generator_ColumnVarNameInTable="columnIsExtremeAthlete" msprop:Generator_ColumnPropNameInRow="IsExtremeAthlete" msprop:Generator_ColumnPropNameInTable="IsExtremeAthleteColumn" msprop:Generator_UserColumnName="IsExtremeAthlete" type="xs:boolean" />
              <xs:element name="Transplant" msprop:Generator_ColumnVarNameInTable="columnTransplant" msprop:Generator_ColumnPropNameInRow="Transplant" msprop:Generator_ColumnPropNameInTable="TransplantColumn" msprop:Generator_UserColumnName="Transplant" type="xs:boolean" />
              <xs:element name="Complication" msprop:Generator_ColumnVarNameInTable="columnComplication" msprop:Generator_ColumnPropNameInRow="Complication" msprop:Generator_ColumnPropNameInTable="ComplicationColumn" msprop:Generator_UserColumnName="Complication" type="xs:boolean" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
  </xs:element>
</xs:schema>