@model StateTrustGlobal.ViewModels.MovimientoCartera
@using StateTrustGlobal.Helpers
@{
    ViewBag.Title = "MoveAgentesCartera";
}

<h2>MoveAgentesCartera</h2>


@Html.AntiForgeryToken()
<div id="overlay">
    <img src="~/images/loading5.gif" alt="Loading" /><br />
</div>
<div class="form-horizontal">
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="row">
        <div class="col-md-12">
            <!-- Adjust this to be sm/md/lg, whatever fits best for you -->
            <div class="form-group">
                @Html.LabelFor(model => model.DateOut, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBox("DateOut", Session["DateIn"], null, new
                   {
                       @class = "form-control col-md-2",
                       @disabled = "disabled",
                       style = "width:500px",
                       required = "required",
                       id = "datepicker" 
                   })
                    <input type="checkbox" class="input_control" value="DateOut" />
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.DateIn, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBox("DateIn", Session["DateIn"], null, new
                   {
                       @class = "form-control col-md-2",
                       @disabled = "disabled",
                       style = "width:500px",
                       required = "required",
                       id = "datepicker1" 
                   })
                    <input type="checkbox" class="input_control" value="DateIn" />
                </div>

            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Note, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBox("Note", Session["Note"], null, new
                   {
                       @class = "form-control col-md-2",
                       @disabled = "disabled",
                       style = "width:500px",
                       required = "required"
                   })
                    <input type="checkbox" class="input_control" value="Note" />
                </div>

            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.New_Supervisor_Agent_Id, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBox("New_Supervisor_Agent_Id", Session["Note"], null, new
                   {
                       @class = "form-control col-md-2",
                       @disabled = "disabled",
                       style = "width:500px",
                       required = "required"
                   })
                    <input type="checkbox" class="input_control" value="New_Supervisor_Agent_Id" />
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.New_Supervisor_Agent_Code, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBox("New_Supervisor_Agent_Code", Session["Note"], null, new
                   {
                       @class = "form-control col-md-2",
                       @disabled = "disabled",
                       style = "width:500px",
                       required = "required"
                   })
                    <input type="checkbox" class="input_control" value="New_Supervisor_Agent_Code" />
                </div>

            </div>
     
                <!-- Adjust this to be sm/md/lg, whatever fits best for you -->
                <div class="form-group">
                    <div class="col-md-10">
                        <label class="control-label col-md-2">Buscar Agentes</label>
                        @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-search'></span>", " ", "MostrarAgentes", "MovimientoCarteras",
                            routeValues: new { }, htmlAttributes: new { data_modal = "", @class = "btn btn-danger" })
                        @Html.ValidationMessageFor(model => model.Agent_id_M, "", new { @class = "text-danger" })
                    </div>
                </div>
        
        </div>

        <h3>Agentes</h3>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Name_M)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Agent_id_M)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Agent_Code_M)
                        </th>

                        <th></th>
                    </tr>
                    <tbody>
                        @for (int i = 0; i < Model.ListAgentes.Count; i++)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => Model.ListAgentes[i].Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => Model.ListAgentes[i].Agent_id)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => Model.ListAgentes[i].Agent_Code)
                                </td>

                                <td>
                                    <div class="pull-right">
                                        @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-trash'></span>", "Delete", "Delete", "ReporteGastos",
                                         routeValues: new { id = Model.ListAgentes[i].Agent_id }, htmlAttributes: new { data_modal = "", @class = "lnkDelete btn btn-danger" })
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>

        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Guardar" class="btn btn-success" />
                @Html.ActionLink("Volver Atras", "VolverOtrosDatos", new { }, new { @class = "btn btn-info" })
            </div>
        </div>
    </div>
    </div>
    @* #######################################################################3 *@
    @* HABILITO LOS TEXTBOX PARA MODIFICAR LOS DATOS *@
    @* #######################################################################3 *@
    <script>
        $(document).ready(function () {
            $('.input_control').change(function () {
                $('input[name=' + this.value + ']')[0].disabled = !this.checked;
            }).change();
        });
    </script>
    @* #######################################################################3 *@
    @* HABILITO LOS TEXTBOX PARA MODIFICAR LOS DATOS *@
    @* #######################################################################3 *@
    <script src="~/Scripts/js/datepicker/jquery-ui.js"></script>

    <!--DATE PICKER /opcional / pueden usar el scrip que quieran-->
    <link href="~/Content/DateTime/css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/DateTime/css/datepicker.css" rel="stylesheet" />
    <script src="~/Scripts/DtaTme/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="~/Scripts/DtaTme/js/jquery-ui-1.8.18.custom.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $('#datepicker').datepicker({
                inline: true,
                //nextText: '&rarr;',
                //prevText: '&larr;',
                showOtherMonths: true,
                //dateFormat: 'dd MM yy',
                dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                //showOn: "button",
                //buttonImage: "img/calendar-blue.png",
                //buttonImageOnly: true,
            });
        });
        $(function () {
            $('#datepicker1').datepicker({
                inline: true,
                //nextText: '&rarr;',
                //prevText: '&larr;',
                showOtherMonths: true,
                //dateFormat: 'dd MM yy',
                dayNamesMin: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                //showOn: "button",
                //buttonImage: "img/calendar-blue.png",
                //buttonImageOnly: true,
            });
        });
    </script>
